<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚˜ì˜ í•™ìŠµ ê´€ë¦¬</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', sans-serif;
            background-color: #f0f8f0;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .subjects {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .subject-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background-color: #a8d5a8;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid #7cb97c;
        }

        .subject-circle:hover {
            background-color: #8bc68b;
            transform: scale(1.05);
        }

        .subject-circle.active {
            background-color: #6ba66b;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
        }

        .subject-name {
            font-size: 18px;
            font-weight: bold;
            color: #2d4a2d;
        }

        .content-area {
            display: flex;
            gap: 20px;
            margin-top: 30px;
        }

        .files-section, .plan-section {
            flex: 1;
            background-color: #d4e8d4;
            border: 2px solid #7cb97c;
            border-radius: 10px;
            padding: 20px;
            min-height: 400px;
        }

        .section-title {
            font-size: 20px;
            font-weight: bold;
            color: #2d4a2d;
            margin-bottom: 15px;
            text-align: center;
        }

        .file-upload {
            margin-bottom: 20px;
        }

        .file-list {
            list-style: none;
        }

        .file-item {
            background-color: white;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .delete-btn {
            background-color: #ff6b6b;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
        }

        .delete-btn:hover {
            background-color: #ff5252;
        }

        .plan-input {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .plan-input input {
            flex: 1;
            padding: 10px;
            border: 1px solid #7cb97c;
            border-radius: 5px;
        }

        .add-btn {
            background-color: #6ba66b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }

        .add-btn:hover {
            background-color: #5a955a;
        }

        .plan-list {
            list-style: none;
        }

        .plan-item {
            background-color: white;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .plan-item.completed {
            background-color: #e8f5e8;
            text-decoration: line-through;
            opacity: 0.7;
        }

        .plan-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .plan-text {
            flex: 1;
        }

        input[type="file"] {
            padding: 10px;
            border: 1px solid #7cb97c;
            border-radius: 5px;
            width: 100%;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 style="text-align: center; color: #2d4a2d; margin-bottom: 30px;">ğŸ“š ë‚˜ì˜ í•™ìŠµ ê´€ë¦¬ ì‹œìŠ¤í…œ</h1>
        
        <div class="subjects">
            <div class="subject-circle" data-subject="êµ­ì–´">
                <span class="subject-name">êµ­ì–´<br>íƒêµ¬ë³´ê³ ì„œ</span>
            </div>
            <div class="subject-circle" data-subject="ìˆ˜í•™">
                <span class="subject-name">ìˆ˜í•™<br>íƒêµ¬ë³´ê³ ì„œ</span>
            </div>
            <div class="subject-circle" data-subject="ì˜ì–´">
                <span class="subject-name">ì˜ì–´<br>ë…ì„œë³´ê³ ì„œ</span>
            </div>
            <div class="subject-circle" data-subject="ì‚¬íšŒ">
                <span class="subject-name">ì‚¬íšŒ<br>íƒêµ¬ë³´ê³ ì„œ</span>
            </div>
            <div class="subject-circle" data-subject="ê³¼í•™">
                <span class="subject-name">ê³¼í•™<br>ë³´ê³ ì„œ</span>
            </div>
            <div class="subject-circle" data-subject="í•œêµ­ì‚¬">
                <span class="subject-name">í•œêµ­ì‚¬<br>íƒêµ¬ë³´ê³ ì„œ</span>
            </div>
            <div class="subject-circle" data-subject="ê·¸ì™¸">
                <span class="subject-name">ê·¸ì™¸<br>ê³¼ëª©íƒêµ¬ë³´ê³ ì„œ</span>
            </div>
        </div>

        <div class="content-area">
            <div class="files-section">
                <h2 class="section-title">ğŸ“ íŒŒì¼ ê´€ë¦¬</h2>
                <div class="file-upload">
                    <input type="file" id="fileInput" multiple>
                </div>
                <ul class="file-list" id="fileList"></ul>
            </div>

            <div class="plan-section">
                <h2 class="section-title">ğŸ“ ê³„íš</h2>
                <div class="plan-input">
                    <input type="text" id="planInput" placeholder="ê³„íšì„ ì…ë ¥í•˜ì„¸ìš”...">
                    <button class="add-btn" onclick="addPlan()">ì¶”ê°€</button>
                </div>
                <ul class="plan-list" id="planList"></ul>
            </div>
        </div>
    </div>

    <script>
        let currentSubject = null;
        let subjectData = {
            'êµ­ì–´': { files: [], plans: [] },
            'ìˆ˜í•™': { files: [], plans: [] },
            'ì˜ì–´': { files: [], plans: [] },
            'ì‚¬íšŒ': { files: [], plans: [] },
            'ê³¼í•™': { files: [], plans: [] },
            'í•œêµ­ì‚¬': { files: [], plans: [] },
            'ê·¸ì™¸': { files: [], plans: [] }
        };

        // ê³¼ëª© ì„ íƒ
        document.querySelectorAll('.subject-circle').forEach(circle => {
            circle.addEventListener('click', function() {
                document.querySelectorAll('.subject-circle').forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                currentSubject = this.dataset.subject;
                loadSubjectData();
            });
        });

        // íŒŒì¼ ì¶”ê°€
        document.getElementById('fileInput').addEventListener('change', function(e) {
            if (!currentSubject) {
                alert('ë¨¼ì € ê³¼ëª©ì„ ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }
            
            const files = Array.from(e.target.files);
            files.forEach(file => {
                subjectData[currentSubject].files.push({
                    name: file.name,
                    date: new Date().toLocaleString()
                });
            });
            
            displayFiles();
            e.target.value = '';
        });

        // íŒŒì¼ ëª©ë¡ í‘œì‹œ
        function displayFiles() {
            const fileList = document.getElementById('fileList');
            fileList.innerHTML = '';
            
            if (currentSubject && subjectData[currentSubject].files.length > 0) {
                subjectData[currentSubject].files.forEach((file, index) => {
                    const li = document.createElement('li');
                    li.className = 'file-item';
                    li.innerHTML = `
                        <span>ğŸ“„ ${file.name} <small>(${file.date})</small></span>
                        <button class="delete-btn" onclick="deleteFile(${index})">ì‚­ì œ</button>
                    `;
                    fileList.appendChild(li);
                });
            }
        }

        // íŒŒì¼ ì‚­ì œ
        function deleteFile(index) {
            subjectData[currentSubject].files.splice(index, 1);
            displayFiles();
        }

        // ê³„íš ì¶”ê°€
        function addPlan() {
            if (!currentSubject) {
                alert('ë¨¼ì € ê³¼ëª©ì„ ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }
            
            const planInput = document.getElementById('planInput');
            const planText = planInput.value.trim();
            
            if (planText === '') {
                alert('ê³„íšì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }
            
            subjectData[currentSubject].plans.push({
                text: planText,
                completed: false
            });
            
            planInput.value = '';
            displayPlans();
        }

        // Enter í‚¤ë¡œ ê³„íš ì¶”ê°€
        document.getElementById('planInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addPlan();
            }
        });

        // ê³„íš ëª©ë¡ í‘œì‹œ
        function displayPlans() {
            const planList = document.getElementById('planList');
            planList.innerHTML = '';
            
            if (currentSubject && subjectData[currentSubject].plans.length > 0) {
                subjectData[currentSubject].plans.forEach((plan, index) => {
                    const li = document.createElement('li');
                    li.className = 'plan-item' + (plan.completed ? ' completed' : '');
                    li.innerHTML = `
                        <input type="checkbox" ${plan.completed ? 'checked' : ''} 
                               onchange="togglePlan(${index})">
                        <span class="plan-text">${plan.text}</span>
                        <button class="delete-btn" onclick="deletePlan(${index})">ì‚­ì œ</button>
                    `;
                    planList.appendChild(li);
                });
            }
        }

        // ê³„íš ì™„ë£Œ/ë¯¸ì™„ë£Œ í† ê¸€
        function togglePlan(index) {
            subjectData[currentSubject].plans[index].completed = 
                !subjectData[currentSubject].plans[index].completed;
            displayPlans();
        }

        // ê³„íš ì‚­ì œ
        function deletePlan(index) {
            subjectData[currentSubject].plans.splice(index, 1);
            displayPlans();
        }

        // ê³¼ëª© ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
        function loadSubjectData() {
            displayFiles();
            displayPlans();
        }

        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ë°ì´í„° ì €ì¥ (ì„ íƒì‚¬í•­)
        window.addEventListener('beforeunload', function() {
            localStorage.setItem('subjectData', JSON.stringify(subjectData));
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë°ì´í„° ë³µì› (ì„ íƒì‚¬í•­)
        window.addEventListener('load', function() {
            const saved = localStorage.getItem('subjectData');
            if (saved) {
                subjectData = JSON.parse(saved);
            }
        });
    </script>
</body>
</html>